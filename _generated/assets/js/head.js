"use strict";

function image() {
  // Init
  var container = document.querySelector(".banner"),
      inner = document.querySelector(".head-img");

  // Mouse
  var mouse = {
    _x: 0,
    _y: 0,
    x: 0,
    y: 0,
    updatePosition: function updatePosition(event) {
      var e = event || window.event;
      this.x = e.clientX - this._x;
      this.y = (e.clientY - this._y) * -1;
    },
    setOrigin: function setOrigin(e) {
      this._x = e.offsetLeft + Math.floor(e.offsetWidth / 2);
      this._y = e.offsetTop + Math.floor(e.offsetHeight / 2);
    },
    show: function show() {
      return "(" + this.x + ", " + this.y + ")";
    }
  };

  // Track the mouse position relative to the center of the container.
  mouse.setOrigin(container);

  //-----------------------------------------

  var counter = 0;
  var updateRate = 10;
  var isTimeToUpdate = function isTimeToUpdate() {
    return counter++ % updateRate === 0;
  };

  //-----------------------------------------

  var onMouseEnterHandler = function onMouseEnterHandler(event) {
    update(event);
  };

  var onMouseLeaveHandler = function onMouseLeaveHandler() {
    inner.style = "";
  };

  var onMouseMoveHandler = function onMouseMoveHandler(event) {
    if (isTimeToUpdate()) {
      update(event);
    }
  };

  //-----------------------------------------

  var update = function update(event) {
    mouse.updatePosition(event);
    updateTransformStyle((mouse.y / inner.offsetHeight / 2).toFixed(2), (mouse.x / inner.offsetWidth / 2).toFixed(2));
  };

  var updateTransformStyle = function updateTransformStyle(x, y) {
    var style = "rotateY(" + y / 5 + "deg) rotateX(" + x / 5 + "deg) translateX(" + (0 - y * 50) + "px) translateY(" + x * 50 + "px)";
    inner.style.transform = style;
    inner.style.webkitTransform = style;
    inner.style.mozTransform = style;
    inner.style.msTransform = style;
    inner.style.oTransform = style;
  };

  //-----------------------------------------

  container.onmouseenter = onMouseEnterHandler;
  container.onmouseleave = onMouseLeaveHandler;
  container.onmousemove = onMouseMoveHandler;
}

module.exports = image;
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImhlYWQuanMiXSwibmFtZXMiOlsiaW1hZ2UiLCJjb250YWluZXIiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJpbm5lciIsIm1vdXNlIiwiX3giLCJfeSIsIngiLCJ5IiwidXBkYXRlUG9zaXRpb24iLCJldmVudCIsImUiLCJ3aW5kb3ciLCJjbGllbnRYIiwiY2xpZW50WSIsInNldE9yaWdpbiIsIm9mZnNldExlZnQiLCJNYXRoIiwiZmxvb3IiLCJvZmZzZXRXaWR0aCIsIm9mZnNldFRvcCIsIm9mZnNldEhlaWdodCIsInNob3ciLCJjb3VudGVyIiwidXBkYXRlUmF0ZSIsImlzVGltZVRvVXBkYXRlIiwib25Nb3VzZUVudGVySGFuZGxlciIsInVwZGF0ZSIsIm9uTW91c2VMZWF2ZUhhbmRsZXIiLCJzdHlsZSIsIm9uTW91c2VNb3ZlSGFuZGxlciIsInVwZGF0ZVRyYW5zZm9ybVN0eWxlIiwidG9GaXhlZCIsInRyYW5zZm9ybSIsIndlYmtpdFRyYW5zZm9ybSIsIm1velRyYW5zZm9ybSIsIm1zVHJhbnNmb3JtIiwib1RyYW5zZm9ybSIsIm9ubW91c2VlbnRlciIsIm9ubW91c2VsZWF2ZSIsIm9ubW91c2Vtb3ZlIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxTQUFTQSxLQUFULEdBQWlCO0FBQ2Y7QUFDQSxNQUFJQyxZQUFZQyxTQUFTQyxhQUFULENBQXVCLFNBQXZCLENBQWhCO0FBQUEsTUFDRUMsUUFBUUYsU0FBU0MsYUFBVCxDQUF1QixXQUF2QixDQURWOztBQUdBO0FBQ0EsTUFBSUUsUUFBUTtBQUNWQyxRQUFJLENBRE07QUFFVkMsUUFBSSxDQUZNO0FBR1ZDLE9BQUcsQ0FITztBQUlWQyxPQUFHLENBSk87QUFLVkMsb0JBQWdCLHdCQUFTQyxLQUFULEVBQWdCO0FBQzlCLFVBQUlDLElBQUlELFNBQVNFLE9BQU9GLEtBQXhCO0FBQ0EsV0FBS0gsQ0FBTCxHQUFTSSxFQUFFRSxPQUFGLEdBQVksS0FBS1IsRUFBMUI7QUFDQSxXQUFLRyxDQUFMLEdBQVMsQ0FBQ0csRUFBRUcsT0FBRixHQUFZLEtBQUtSLEVBQWxCLElBQXdCLENBQUMsQ0FBbEM7QUFDRCxLQVRTO0FBVVZTLGVBQVcsbUJBQVNKLENBQVQsRUFBWTtBQUNyQixXQUFLTixFQUFMLEdBQVVNLEVBQUVLLFVBQUYsR0FBZUMsS0FBS0MsS0FBTCxDQUFXUCxFQUFFUSxXQUFGLEdBQWdCLENBQTNCLENBQXpCO0FBQ0EsV0FBS2IsRUFBTCxHQUFVSyxFQUFFUyxTQUFGLEdBQWNILEtBQUtDLEtBQUwsQ0FBV1AsRUFBRVUsWUFBRixHQUFpQixDQUE1QixDQUF4QjtBQUNELEtBYlM7QUFjVkMsVUFBTSxnQkFBVztBQUNmLGFBQU8sTUFBTSxLQUFLZixDQUFYLEdBQWUsSUFBZixHQUFzQixLQUFLQyxDQUEzQixHQUErQixHQUF0QztBQUNEO0FBaEJTLEdBQVo7O0FBbUJBO0FBQ0FKLFFBQU1XLFNBQU4sQ0FBZ0JmLFNBQWhCOztBQUVBOztBQUVBLE1BQUl1QixVQUFVLENBQWQ7QUFDQSxNQUFJQyxhQUFhLEVBQWpCO0FBQ0EsTUFBSUMsaUJBQWlCLFNBQWpCQSxjQUFpQixHQUFXO0FBQzlCLFdBQU9GLFlBQVlDLFVBQVosS0FBMkIsQ0FBbEM7QUFDRCxHQUZEOztBQUlBOztBQUVBLE1BQUlFLHNCQUFzQixTQUF0QkEsbUJBQXNCLENBQVNoQixLQUFULEVBQWdCO0FBQ3hDaUIsV0FBT2pCLEtBQVA7QUFDRCxHQUZEOztBQUlBLE1BQUlrQixzQkFBc0IsU0FBdEJBLG1CQUFzQixHQUFXO0FBQ25DekIsVUFBTTBCLEtBQU4sR0FBYyxFQUFkO0FBQ0QsR0FGRDs7QUFJQSxNQUFJQyxxQkFBcUIsU0FBckJBLGtCQUFxQixDQUFTcEIsS0FBVCxFQUFnQjtBQUN2QyxRQUFJZSxnQkFBSixFQUFzQjtBQUNwQkUsYUFBT2pCLEtBQVA7QUFDRDtBQUNGLEdBSkQ7O0FBTUE7O0FBRUEsTUFBSWlCLFNBQVMsU0FBVEEsTUFBUyxDQUFTakIsS0FBVCxFQUFnQjtBQUMzQk4sVUFBTUssY0FBTixDQUFxQkMsS0FBckI7QUFDQXFCLHlCQUNFLENBQUMzQixNQUFNSSxDQUFOLEdBQVVMLE1BQU1rQixZQUFoQixHQUErQixDQUFoQyxFQUFtQ1csT0FBbkMsQ0FBMkMsQ0FBM0MsQ0FERixFQUVFLENBQUM1QixNQUFNRyxDQUFOLEdBQVVKLE1BQU1nQixXQUFoQixHQUE4QixDQUEvQixFQUFrQ2EsT0FBbEMsQ0FBMEMsQ0FBMUMsQ0FGRjtBQUlELEdBTkQ7O0FBUUEsTUFBSUQsdUJBQXVCLFNBQXZCQSxvQkFBdUIsQ0FBU3hCLENBQVQsRUFBWUMsQ0FBWixFQUFlO0FBQ3hDLFFBQUlxQixxQkFBbUJyQixJQUFJLENBQXZCLHFCQUF3Q0QsSUFBSSxDQUE1Qyx5QkFBZ0UsSUFBSUMsSUFBSSxFQUF4RSx3QkFBNEZELElBQUksRUFBaEcsUUFBSjtBQUNBSixVQUFNMEIsS0FBTixDQUFZSSxTQUFaLEdBQXdCSixLQUF4QjtBQUNBMUIsVUFBTTBCLEtBQU4sQ0FBWUssZUFBWixHQUE4QkwsS0FBOUI7QUFDQTFCLFVBQU0wQixLQUFOLENBQVlNLFlBQVosR0FBMkJOLEtBQTNCO0FBQ0ExQixVQUFNMEIsS0FBTixDQUFZTyxXQUFaLEdBQTBCUCxLQUExQjtBQUNBMUIsVUFBTTBCLEtBQU4sQ0FBWVEsVUFBWixHQUF5QlIsS0FBekI7QUFDRCxHQVBEOztBQVVBOztBQUVBN0IsWUFBVXNDLFlBQVYsR0FBeUJaLG1CQUF6QjtBQUNBMUIsWUFBVXVDLFlBQVYsR0FBeUJYLG1CQUF6QjtBQUNBNUIsWUFBVXdDLFdBQVYsR0FBd0JWLGtCQUF4QjtBQUNEOztBQUVEVyxPQUFPQyxPQUFQLEdBQWlCM0MsS0FBakIiLCJmaWxlIjoiaGVhZC5qcyIsInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIGltYWdlKCkge1xuICAvLyBJbml0XG4gIHZhciBjb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmJhbm5lclwiKSxcbiAgICBpbm5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuaGVhZC1pbWdcIik7XG5cbiAgLy8gTW91c2VcbiAgdmFyIG1vdXNlID0ge1xuICAgIF94OiAwLFxuICAgIF95OiAwLFxuICAgIHg6IDAsXG4gICAgeTogMCxcbiAgICB1cGRhdGVQb3NpdGlvbjogZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgIHZhciBlID0gZXZlbnQgfHwgd2luZG93LmV2ZW50O1xuICAgICAgdGhpcy54ID0gZS5jbGllbnRYIC0gdGhpcy5feDtcbiAgICAgIHRoaXMueSA9IChlLmNsaWVudFkgLSB0aGlzLl95KSAqIC0xO1xuICAgIH0sXG4gICAgc2V0T3JpZ2luOiBmdW5jdGlvbihlKSB7XG4gICAgICB0aGlzLl94ID0gZS5vZmZzZXRMZWZ0ICsgTWF0aC5mbG9vcihlLm9mZnNldFdpZHRoIC8gMik7XG4gICAgICB0aGlzLl95ID0gZS5vZmZzZXRUb3AgKyBNYXRoLmZsb29yKGUub2Zmc2V0SGVpZ2h0IC8gMik7XG4gICAgfSxcbiAgICBzaG93OiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBcIihcIiArIHRoaXMueCArIFwiLCBcIiArIHRoaXMueSArIFwiKVwiO1xuICAgIH1cbiAgfTtcblxuICAvLyBUcmFjayB0aGUgbW91c2UgcG9zaXRpb24gcmVsYXRpdmUgdG8gdGhlIGNlbnRlciBvZiB0aGUgY29udGFpbmVyLlxuICBtb3VzZS5zZXRPcmlnaW4oY29udGFpbmVyKTtcblxuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgdmFyIGNvdW50ZXIgPSAwO1xuICB2YXIgdXBkYXRlUmF0ZSA9IDEwO1xuICB2YXIgaXNUaW1lVG9VcGRhdGUgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gY291bnRlcisrICUgdXBkYXRlUmF0ZSA9PT0gMDtcbiAgfTtcblxuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgdmFyIG9uTW91c2VFbnRlckhhbmRsZXIgPSBmdW5jdGlvbihldmVudCkge1xuICAgIHVwZGF0ZShldmVudCk7XG4gIH07XG5cbiAgdmFyIG9uTW91c2VMZWF2ZUhhbmRsZXIgPSBmdW5jdGlvbigpIHtcbiAgICBpbm5lci5zdHlsZSA9IFwiXCI7XG4gIH07XG5cbiAgdmFyIG9uTW91c2VNb3ZlSGFuZGxlciA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgaWYgKGlzVGltZVRvVXBkYXRlKCkpIHtcbiAgICAgIHVwZGF0ZShldmVudCk7XG4gICAgfVxuICB9O1xuXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICB2YXIgdXBkYXRlID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICBtb3VzZS51cGRhdGVQb3NpdGlvbihldmVudCk7XG4gICAgdXBkYXRlVHJhbnNmb3JtU3R5bGUoXG4gICAgICAobW91c2UueSAvIGlubmVyLm9mZnNldEhlaWdodCAvIDIpLnRvRml4ZWQoMiksXG4gICAgICAobW91c2UueCAvIGlubmVyLm9mZnNldFdpZHRoIC8gMikudG9GaXhlZCgyKVxuICAgICk7XG4gIH07XG5cbiAgdmFyIHVwZGF0ZVRyYW5zZm9ybVN0eWxlID0gZnVuY3Rpb24oeCwgeSkge1xuICAgIHZhciBzdHlsZSA9IGByb3RhdGVZKCR7eSAvIDV9ZGVnKSByb3RhdGVYKCR7eCAvIDV9ZGVnKSB0cmFuc2xhdGVYKCR7MCAtIHkgKiA1MH1weCkgdHJhbnNsYXRlWSgke3ggKiA1MH1weClgO1xuICAgIGlubmVyLnN0eWxlLnRyYW5zZm9ybSA9IHN0eWxlO1xuICAgIGlubmVyLnN0eWxlLndlYmtpdFRyYW5zZm9ybSA9IHN0eWxlO1xuICAgIGlubmVyLnN0eWxlLm1velRyYW5zZm9ybSA9IHN0eWxlO1xuICAgIGlubmVyLnN0eWxlLm1zVHJhbnNmb3JtID0gc3R5bGU7XG4gICAgaW5uZXIuc3R5bGUub1RyYW5zZm9ybSA9IHN0eWxlO1xuICB9O1xuXG5cbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gIGNvbnRhaW5lci5vbm1vdXNlZW50ZXIgPSBvbk1vdXNlRW50ZXJIYW5kbGVyO1xuICBjb250YWluZXIub25tb3VzZWxlYXZlID0gb25Nb3VzZUxlYXZlSGFuZGxlcjtcbiAgY29udGFpbmVyLm9ubW91c2Vtb3ZlID0gb25Nb3VzZU1vdmVIYW5kbGVyO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGltYWdlIl19
